# Dusty-shock tests with smoothing

{% set prefix = "dustyshock" %}
{% set setup_path = "~/repos/multigrain/code/initial-conditions/dustyshock" %}
{% set runs_path = "~/runs/multigrain/dustyshock" %}

{% set system = "gfortran" %}
{% set hdf5_path = env['HDF5_DIR'] %}

{% set names =
    [
        "N_1-nx_32-k_smooth_2",
        "N_1-nx_32-k_smooth_10",
        "N_1-nx_32-k_smooth_2-h_fact_1.5",
        "N_1-nx_32-k_smooth_10-h_fact_1.5"
    ]
%}


[phantom]
path = "~/repos/phantom"
setup = "dustyshock"
system = "{{ system }}"
version = "666da9e892cb3f2d9f89e132504e185fe2f22f31"
extra_options = ["MAXP=10000000", "ISOTHERMAL=yes", "FC=gfortran-9"]
hdf5_path = "{{ hdf5_path }}"


{% for name in names %}

[[runs]]
prefix = "{{ prefix }}"
path = "{{ runs_path }}/{{ name }}"
setup_file = "{{ setup_path }}/{{ name }}/{{ prefix }}.setup"
in_file = "{{ setup_path }}/{{ name }}/{{ prefix }}.in"

{% endfor %}
